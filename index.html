<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Sabores del Fog√≥n</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<!-- Meta Pixel -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init','2992234817833383');
fbq('track','PageView');
</script>

<style>
:root{
  --bg:#0f0f0f;
  --card:#1b1b1b;
  --text:#f1f1f1;
  --muted:#aaa;
  --accent:#c40000;
  --ok:#25D366;
}
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
}
.container{
  max-width:720px;
  margin:auto;
  padding:16px;
}
h1{text-align:center;margin-bottom:0}
h2{text-align:center;color:var(--muted);font-weight:normal;margin-top:4px}

.section{
  background:var(--card);
  border-radius:12px;
  padding:16px;
  margin-bottom:16px;
}

label{
  display:block;
  font-size:14px;
  color:var(--muted);
  margin-bottom:6px;
}

.control{
  width:100%;
  padding:14px;
  background:#111;
  color:var(--text);
  border:1px solid #333;
  border-radius:8px;
  margin-bottom:10px;
}

button.control{
  text-align:left;
}

button.selected{
  border-color:var(--accent);
  background:#260000;
}

/* üî• SOLO PARA MODELO */
.model-row{
  display:flex;
  gap:10px;
}
.model-row button{
  width:50%;
}

/* tabs */
.tabs{
  display:flex;
  gap:6px;
  overflow-x:auto;
  margin-bottom:12px;
}
.tab{
  min-width:90px;
  padding:10px;
  text-align:center;
  background:#111;
  border-radius:8px;
}
.tab.active{
  background:var(--accent);
}

.model-info{
  font-size:13px;
  color:var(--muted);
  margin-bottom:10px;
}

.summary{
  font-size:15px;
  line-height:1.5;
}

.pay button{
  width:100%;
  padding:18px;
  font-size:20px;
  background:var(--ok);
  border:none;
  border-radius:10px;
  opacity:.4;
}
.pay button.enabled{opacity:1}

.small{
  text-align:center;
  font-size:13px;
  color:var(--muted);
}
</style>
</head>

<body>
<div class="container">

<h1>Sabores del Fog√≥n</h1>
<h2>Hac√© tu pedido</h2>

<!-- Cantidad de picadas -->
<div class="section">
<label>¬øCu√°ntas picadas quer√©s?</label>
<select id="qtySelect" class="control" onchange="handleQtySelect()">
  <option value="1">1 picada</option>
  <option value="2">2 picadas</option>
  <option value="3">3 picadas</option>
  <option value="4">4 picadas</option>
  <option value="5">5 picadas</option>
  <option value="6">6 picadas</option>
  <option value="7">7 picadas</option>
  <option value="8">8 picadas</option>
  <option value="9">9 picadas</option>
  <option value="10">10 picadas</option>
  <option value="more">Necesito m√°s picadas</option>
</select>

<input id="customQty" type="number" min="11"
class="control" placeholder="Ingres√° la cantidad"
style="display:none" onchange="setCustomQty()">
</div>

<!-- Configuraci√≥n de picadas -->
<div class="section" id="config"></div>

<!-- Env√≠o -->
<div class="section">
<label>Direcci√≥n y altura de env√≠o</label>
<input id="addr" class="control" oninput="update()">

<label>Localidad</label>
<select id="zone" class="control" onchange="setZone()">
  <option value="">Seleccionar localidad</option>
  <option value="Francisco √Ålvarez|0">Francisco √Ålvarez</option>
  <option value="Moreno|0">Moreno</option>
  <option value="Merlo|7000">Merlo</option>
  <option value="Ituzaing√≥|8000">Ituzaing√≥</option>
  <option value="Mor√≥n|8000">Mor√≥n</option>
  <option value="Castelar|8000">Castelar</option>
  <option value="Hurlingham|8000">Hurlingham</option>
  <option value="San Miguel|8000">San Miguel</option>
  <option value="Tres de Febrero|8000">Tres de Febrero</option>
  <option value="La Matanza|8000">La Matanza</option>
  <option value="General Rodr√≠guez|8000">General Rodr√≠guez</option>
  <option value="Luj√°n|8000">Luj√°n</option>
  <option value="CABA|8000">CABA</option>
</select>
</div>

<div class="section summary" id="summary">
Complet√° todos los pasos para poder ir a pagar.
</div>

<div class="pay">
<button id="payBtn" onclick="goWA()">IR A PAGAR</button>
</div>

<p class="small">Reserv√°s con el 50%. El resto se paga al recibir.</p>

</div>

<script>
const modelInfo={
  "Cl√°sica y Elegante":"Quesos brie, azul y pepato. Sopresatta, lomo ahumado, jam√≥n crudo, panceta. Dip dulce y salado.",
  "Fresca y Colorida":"Quesos brie, pategr√°s y sardo. Jam√≥n cocido, salam√≠n, longaniza, panceta. Dip dulce y salado."
};

let picadas=[],active=0,ship=0,zoneName="";

function handleQtySelect(){
  const v=qtySelect.value;
  customQty.style.display = v==="more" ? "block" : "none";
  if(v!=="more") buildPicadas(parseInt(v));
}
function setCustomQty(){
  buildPicadas(parseInt(customQty.value)||1);
}
function buildPicadas(n){
  picadas=Array.from({length:n},()=>({model:null,size:null,price:0}));
  active=0;
  renderConfig();
}
function renderConfig(){
  let tabs='<div class="tabs">';
  picadas.forEach((_,i)=>{
    tabs+=`<div class="tab ${i===active?'active':''}" onclick="active=${i};renderConfig()">Picada ${i+1}</div>`;
  });
  tabs+='</div>';

  const p=picadas[active];
  config.innerHTML=`
  ${tabs}

  <label>Modelo de la picada</label>
  <div class="model-row">
    <button class="control ${p.model==='Cl√°sica y Elegante'?'selected':''}"
      onclick="setModel('Cl√°sica y Elegante')">Cl√°sica y Elegante</button>
    <button class="control ${p.model==='Fresca y Colorida'?'selected':''}"
      onclick="setModel('Fresca y Colorida')">Fresca y Colorida</button>
  </div>
  <div class="model-info">${p.model?modelInfo[p.model]:'Por favor, seleccion√° un modelo.'}</div>

  <label>Cantidad de personas</label>
  <button class="control ${p.size===4?'selected':''}"
    onclick="setSize(4,50000)">4 personas ($50.000 ‚Äì 20√ó30 cm)</button>
  <button class="control ${p.size===6?'selected':''}"
    onclick="setSize(6,70000)">6 personas ($70.000 ‚Äì 28√ó48 cm)</button>
  <button class="control ${p.size===8?'selected':''}"
    onclick="setSize(8,90000)">8 personas ($90.000 ‚Äì 28√ó48 cm)</button>
  `;
  update();
}

function setModel(m){picadas[active].model=m;renderConfig()}
function setSize(s,p){picadas[active].size=s;picadas[active].price=p;renderConfig()}
function setZone(){
  const v=zone.value;
  if(!v)return;
  zoneName=v.split('|')[0];
  ship=parseInt(v.split('|')[1]);
  update();
}
function update(){
  let total=ship,valid=addr.value&&zoneName,txt='';
  picadas.forEach((p,i)=>{
    if(!p.model||!p.size) valid=false;
    total+=p.price;
    txt+=`Picada ${i+1}: ${p.model} (${p.size} personas)<br>`;
  });
  if(valid){
    summary.innerHTML=`${txt}<br>Env√≠o a ${addr.value}, ${zoneName}<br><strong>Total $${total.toLocaleString()}</strong>`;
    payBtn.classList.add('enabled');
  }else{
    payBtn.classList.remove('enabled');
  }
}
function goWA(){
  if(!payBtn.classList.contains('enabled'))return;
  fbq('track','Lead');
  let msg='Hola, quiero pedir:\n';
  picadas.forEach((p,i)=>msg+=`Picada ${i+1}: ${p.model} para ${p.size} personas\n`);
  msg+=`Direcci√≥n: ${addr.value}, ${zoneName}`;
  window.location.href='https://wa.me/5491123284020?text='+encodeURIComponent(msg);
}

buildPicadas(1);
</script>
</body>
</html>
